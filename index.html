<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Login & Registration System</title>
<style>
* { box-sizing: border-box; font-family: 'Segoe UI', Arial, sans-serif; }
body {
    margin: 0;
    background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%);
    display: flex;
    justify-content: center;
    align-items: center;
    height: 100vh;
}
.container {
    width: 380px;
    background: #fff;
    padding: 30px;
    border-radius: 15px;
    box-shadow: 0 15px 35px rgba(0,0,0,0.2);
}
h2 { text-align: center; color: #333; margin-bottom: 25px; }
input {
    width: 100%;
    padding: 12px;
    margin: 8px 0 15px 0;
    border: 1px solid #ddd;
    border-radius: 8px;
    outline: none;
}
input:focus { border-color: #1e3c72; }
button {
    width: 100%;
    padding: 12px;
    border: none;
    border-radius: 8px;
    background-color: #2ecc71;
    color: white;
    font-size: 16px;
    font-weight: bold;
    cursor: pointer;
    transition: 0.3s;
}
button:hover { background-color: #27ae60; }
.toggle {
    text-align: center;
    margin-top: 15px;
    cursor: pointer;
    color: #3498db;
    font-size: 14px;
}
.error { color: #e74c3c; background: #fdeaea; padding: 10px; border-radius: 5px; margin-bottom: 15px; display: none; font-size: 13px; text-align: center; }
.success { color: #27ae60; background: #eafaf1; padding: 10px; border-radius: 5px; margin-bottom: 15px; display: none; font-size: 13px; text-align: center; }
</style>
</head>
<body>

<div class="container" id="auth-container">
    <h2 id="form-title">Login</h2>
    <div class="error" id="error-msg"></div>
    <div class="success" id="success-msg"></div>
    
    <input type="text" id="username" placeholder="Username" required>
    <input type="password" id="password" placeholder="Password" required>
    
    <button id="submit-btn">Login</button>
    <div class="toggle" id="toggle-form">Don't have an account? Register</div>
</div>

<script>
const formTitle = document.getElementById('form-title');
const submitBtn = document.getElementById('submit-btn');
const toggleForm = document.getElementById('toggle-form');
const errorMsg = document.getElementById('error-msg');
const successMsg = document.getElementById('success-msg');
const usernameInput = document.getElementById('username');
const passwordInput = document.getElementById('password');

let isLogin = true;

// Browser storage: registered users
let users = JSON.parse(localStorage.getItem('web_users')) || [];

toggleForm.addEventListener('click', () => {
    isLogin = !isLogin;
    errorMsg.style.display = 'none';
    successMsg.style.display = 'none';
    
    if (isLogin) {
        formTitle.textContent = 'Login';
        submitBtn.textContent = 'Login';
        submitBtn.style.backgroundColor = '#2ecc71';
        toggleForm.textContent = "Don't have an account? Register";
    } else {
        formTitle.textContent = 'Register';
        submitBtn.textContent = 'Register Now';
        submitBtn.style.backgroundColor = '#3498db';
        toggleForm.textContent = "Already have an account? Login";
    }
});

submitBtn.addEventListener('click', () => {
    const username = usernameInput.value.trim();
    const password = passwordInput.value.trim();

    errorMsg.style.display = 'none';
    successMsg.style.display = 'none';

    if (!username || !password) {
        showMsg(errorMsg, 'Please fill in all fields.');
        return;
    }

    if (isLogin) {
        // LOGIN
        const user = users.find(u => u.username === username && u.password === password);
        if (user) {
            showMsg(successMsg, `Success! Redirecting...`);
            // Redirect to your Vercel site
            setTimeout(() => {
                window.location.href = "https://wealth-wise-2ypwh8zu9-sengaomad572-techs-projects.vercel.app/";
            }, 1000);
        } else {
            showMsg(errorMsg, 'User not found or wrong password.');
        }
    } else {
        // REGISTER
        const userExists = users.some(u => u.username === username);
        if (userExists) {
            showMsg(errorMsg, 'This username is already taken.');
        } else {
            users.push({ username, password });
            localStorage.setItem('web_users', JSON.stringify(users));
            showMsg(successMsg, 'Registered successfully! Now you can Login.');
            // Auto-switch to login
            setTimeout(() => toggleForm.click(), 1500);
        }
    }
});

function showMsg(element, text) {
    element.textContent = text;
    element.style.display = 'block';
}
</script>
</body>
</html>
